<!DOCTYPE html>
<html>
<head>
  <title>Feedback</title>
  <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-firestore.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>scroll</h1>
  <br>
  <h1>scroll</h1>
  <br>
  <h1>scroll</h1>
  <br>
  <h1>scroll</h1>
  <br>
  <h1>scroll</h1>
  <br>
  <h1>scroll</h1>
  <br>
  <h1>scroll</h1>
  <br>
  <h1>scroll</h1>
  <br>
  <h1>scroll</h1>
  <br>
  <h1>scroll</h1>
  <br>
<div class="circleMorph"><h1>?</h1>
  <div class="surveyBox container hidden">
      <form id="survey-form" class="formthingy">
        
          <h4>What can we do better?</h4>
          <br>
          <p>We aim to be as user-friendly as possible, so even a little feedback can go a long way!</p>
          <textarea class="feedbackbox form-control" type="feedback" id="feedback" placeholder="type here (1000 Characters)" maxlength="1000" minlength="3"></textarea>

          <button class="btn btn-primary" type="submit" id="submitBtn">Submit</button>
      </form>
      <h6 class="errorDisplay" id="errorDisplay"></h6>
  </div>
</div>
<script>

    const db = firebase.firestore();

    const writeSurveyResponsesToFirestore = (surveyResponses) => {
      const docRef = db.collection('surveys').doc();
      docRef.set(surveyResponses)
    };

    document.querySelector('#survey-form').addEventListener('submit', (event) => {
      event.preventDefault();

      const surveyResponses = {
        feedback: document.querySelector('#feedback').value,
      };
        
      writeSurveyResponsesToFirestore(surveyResponses);
        document.getElementById('submitBtn').disabled = true;
        
    });
</script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>